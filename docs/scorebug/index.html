<!doctype html>
<title>Score webcompat knowledge base bugs</title>
<script src="https://jgraham.github.io/tranco-subdomains/tranco.js"></script>

<style>
:root {
  font-family: sans;
}

ul {
    list-style: none;
    padding: 0;
}
li > ul {
  padding-left: 2em;
}
li {
  font-weight: bold;
}
li ul li {
  font-weight: normal;
}
label > input {
  font-weight: normal;
  margin-left: 1em;
}

th {
  text-align: left;
}

dt {
  font-weight: bold;
}

</style>

<h1>WebCompat Bug Scorer</h1>

<div class="input">
  <ul>
    <li><label>Bug id <input id="bug-id"></label> <button onclick="updateFromBug()">Update</button>

    <li><label>URL <input id="url"></label>

    <li>Platform
      <ul id="platform">
        <li><input type=checkbox checked id="platform-windows" value="0.7"><label for=platform-windows>Windows</label>
        <li><input type=checkbox checked id="platform-mac" value="0.2"><label for=platform-mac>macOS</label>
        <li><input type=checkbox checked id="platform-linux" value="0.1"><label for=platform-linux>Linux</label>
        <li><input type=checkbox checked id="platform-android" value="1"><label for=platform-android>Android</label>
      </ul>

    <li>Impact
      <select id="impact">
        <option id=impact-site-broken value=100>Site broken
        <option id=impact-blocked value=100>Unsupported / Blocked
        <option id=impact-workflow-broken value=60>Workflow broken
        <option id=impact-feature-broken value=30>Feature broken
        <option id=impact-content-missing value=30>Content missing
        <option id=impact-significant-visual value=20>Significant visual
        <option id=impact-minor-visual value=1>Minor visual
        <option id=impact-unsupported-warning value=20>Unsupported warning
      </select>

    <li>Affects users
      <select id="affects">
        <option id=affects-all value=1>All
        <option id=affects-some value=0.3>Some
        <option id=affects-few value=0.1>Few
      </select>

  </ul>

  <button onclick=score()>Compute Score</button>
</div>

<div id="output" hidden>
  <table>
    <tr><th>Domain Rank: <td><output id="domain-rank"></output> (<output id="domain"></output>)
    <tr><th>Severity Score: <td><output id="severity-score"></output>
    <tr><th>Priority Score: <td><output id="priority-score"></output>
    <tr><th>Overall Score: <td><output id="score"></output>
  </table>
  <hr>
  <table>
    <tr><th>Suggested Priority: <td><output id="priority"></output>
    <tr><th>Suggested Severity: <td><output id="severity"></output>
  </table>
  <dl>
    <dt>User story: <dd><pre><output id="user-story"></output></pre><button onclick=copyElemText("user-story")>Copy</button>
  </dl>
</div>

<script src="scorebug.js"></script>
